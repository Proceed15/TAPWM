<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atividade 16 + Eventos Janelas Aberta, Fechada e Quebrada</title>
    <style>
        #window {
            width: 333px;
            height: 333px;
        }
    </style>
</head>
<body>
    <div id="window-container">
        <img id="window" src="19193132-janela-fechada-com-um-tipo-na-paisagem-de-inverno-em-um-fundo-branco-é-isolado-ilustração.jpg" alt="Janela Fechada">
        <p id="window-state">Abra a Janela, Janela Fechada</p>
    </div>
    <button onclick="Reloading()">Reiniciar Animações</button>
    
    <script>
        let windowState = "fechada";
        let clickCount = 0;

        document.getElementById("window-container").addEventListener("click", function() {
            if (windowState === "fechada") {
                if (clickCount < 5){
                    openWindow();
                } else {
                    breakWindow();
                }
                clickCount++;
            } else if (windowState === "aberta") {
                breakWindow();
            }
        });

        function openWindow(){
            document.getElementById("window").src = "janela-aberta-com-vista-para-o-jardim_540381-1223.avif";
            document.getElementById("window-state").innerHTML = "Janela Aberta";
            windowState = "aberta";
        }

        function closeWindow() {
            document.getElementById("window").src = "19193132-janela-fechada-com-um-tipo-na-paisagem-de-inverno-em-um-fundo-branco-é-isolado-ilustração.jpg";
            document.getElementById("window-state").innerHTML = "Abra a Janela, Janela Fechada";
            windowState = "fechada";
            clickCount = 0;
        }

        function breakWindow() {
            document.getElementById("window").src = "pngtree-shattered-window-is-seen-in-a-wooded-area-picture-image_2781545.png";
            document.getElementById("window-state").innerHTML = "Janela Quebrada";
            windowState = "broken";
        }

        function Reloading() {
            window.location.reload();
        }
    </script>
</body>
</html>